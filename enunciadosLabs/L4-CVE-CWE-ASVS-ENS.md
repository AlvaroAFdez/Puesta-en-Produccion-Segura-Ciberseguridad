# Laboratorio: Determinación de los Niveles de Seguridad

## Objetivos  
Este laboratorio tiene como finalidad que los estudiantes:  

  - Comprendan la importancia de la seguridad en aplicaciones y sistemas.  
  - Aprendan a identificar vulnerabilidades utilizando fuentes abiertas.  
  - Evalúen los niveles de seguridad requeridos según el Esquema Nacional de Seguridad (ENS).  
  - Implementen verificaciones de seguridad en aplicaciones basadas en ASVS.  
  - Adquieran experiencia práctica en la detección y mitigación de amenazas.  

## Prerrequisitos  
Antes de comenzar, los estudiantes deben tener conocimientos básicos sobre:  

- Fundamentos de seguridad informática.  
- Principales amenazas y vulnerabilidades en aplicaciones.  
- Uso de herramientas básicas de seguridad y análisis.  
- Programación en un lenguaje como Python o JavaScript.  
- Familiaridad con OWASP Top Ten, CVE y CWE.  


## Prácticas  

### **Práctica 4.1. Identificación de vulnerabilidades en fuentes abiertas (2.5 puntos)**
**Objetivo:** Explorar bases de datos de vulnerabilidades como CVE y CWE para identificar fallos en software conocido.  

Analizar vulnerabilidades conocidas en software ampliamente utilizado, comprendiendo su impacto y las medidas de mitigación aplicables.

#### Software Seleccionado

  - **Qlik Sense**: Qlik Sense es una plataforma de análisis de datos completa que establece el punto de referencia para una nueva generación de análisis.
  - **PuTTy**: PuTTY es un cliente SSH y Telnet con el que podemos conectarnos a servidores remotos iniciando una sesión en ellos que nos permite ejecutar comandos.

#### Pasos a Seguir

1. **Acceder a la Base de Datos de Vulnerabilidades CVE**
   - Visitar el sitio oficial de [CVE](https://cve.mitre.org).
    
2. **Buscar Vulnerabilidades Específicas de Apache HTTP Server**
   - Utilizar la función de búsqueda para encontrar vulnerabilidades asociadas con "Apache HTTP Server".
   - Identificar al menos tres vulnerabilidades recientes relevantes.
     
3. **Analizar Detalles de Cada Vulnerabilidad**
   - Para cada vulnerabilidad identificada, recopilar la siguiente información:
     - **ID de CVE**: Identificador único de la vulnerabilidad.
     - **Descripción**: Resumen del problema de seguridad.
     - **Fecha de Publicación**: Cuándo se divulgó la vulnerabilidad.
     - **Impacto**: Consecuencias potenciales de la explotación.
     - **Vectores de Ataque**: Métodos mediante los cuales se puede explotar la vulnerabilidad.
     - **Medidas de Mitigación o Parches Disponibles**: Soluciones o recomendaciones para abordar la vulnerabilidad.

4. **Consultar la Enumeración de Debilidades Comunes (CWE)**
   - Visitar el sitio oficial de [CWE](https://cwe.mitre.org).
   - Buscar las debilidades asociadas a las vulnerabilidades identificadas en Apache HTTP Server.
   - Comprender cómo estas debilidades contribuyen a las vulnerabilidades específicas.

5. **Documentar el informe**
   - Elaborar un informe que incluya:
     - Resumen de cada vulnerabilidad con la información recopilada.
     - Análisis de las debilidades subyacentes según CWE.
     - **Reflexión** sobre la importancia de abordar estas vulnerabilidades y debilidades en el desarrollo y mantenimiento de software.

### **Práctica 4.2. Identificación de vulnerabilidades en fuentes abiertas (2.5 puntos)**
**Objetivo:** Explorar bases de datos de vulnerabilidades como CVE y CWE para identificar fallos en software conocido.  

Analizar vulnerabilidades conocidas en software ampliamente utilizado, comprendiendo su impacto y las medidas de mitigación aplicables.

En este caso debe buscar 2 software conocidos y realizar lo mismo que se ha hecho anteriormente. Deben ser 2 software populares y no simplemente al azar.

---

### **Práctica 4.3: Evaluación de Amenazas, Vulnerabilidades y Riesgos (5 puntos)**  

#### **Objetivo**  
Comprender la relación entre **vulnerabilidades, amenazas y riesgos** en sistemas informáticos, aplicando conocimientos del Esquema Nacional de Seguridad (ENS), Common Vulnerabilities and Exposures (CVE), Common Weakness Enumeration (CWE) y OWASP Top Ten.  


#### **Conceptos Claves Antes de Comenzar**  

Antes de realizar la práctica, es importante recordar los siguientes términos:  

- **Vulnerabilidad**: Fallo, debilidad o punto débil en un sistema. Puede deberse a errores de programación, configuraciones incorrectas o malas prácticas.  
- **Amenaza**: Acción o evento que explota una vulnerabilidad para comprometer la seguridad de un sistema. Puede ser interna o externa.  
- **Riesgo**: Probabilidad de que una amenaza se materialice aprovechando una vulnerabilidad y genere daños.  
- **Exploit**: Código o herramienta diseñada para aprovechar una vulnerabilidad específica.  
- **Zero Day (0-day)**: Vulnerabilidad desconocida por el fabricante y sin solución oficial.  


#### **1. Selección de una Aplicación de Uso Común**  

Elegir una aplicación de software ampliamente utilizada (ninguna de las ya usadas anteriormente). Puede ser un sistema operativo, una aplicación web, una herramienta de ofimática, entre otros. Se recomienda utilizar software con vulnerabilidades documentadas en bases de datos abiertas como:  

- [CVE](https://cve.mitre.org)  
- [OWASP Top Ten](https://owasp.org/Top10)  
- [CWE](https://cwe.mitre.org)  

Ejemplos de aplicaciones a analizar:  
- **Google Chrome** (navegador web)  
- **Apache HTTP Server** (servidor web)  
- **WordPress** (gestor de contenido)  
- **Windows 10/11** (sistema operativo)  

#### **2. Identificación de al Menos Tres Vulnerabilidades**  

Una vez seleccionada la aplicación, se debe investigar y documentar **tres vulnerabilidades específicas** (lo importante son las CWE) que hayan sido reportadas oficialmente en CVE y CWE (ahora vamos a documentar además las CWE).  

Para cada vulnerabilidad, se debe recopilar la siguiente información:  
- **ID de la vulnerabilidad (CVE-ID o CWE-ID)**  
- **Descripción del fallo**  
- **Componentes afectados (versión, módulo específico, etc.)**  
- **Impacto potencial**  
- **Referencias (fuente oficial o bases de datos de vulnerabilidades)**  

#### **3. Relación entre Vulnerabilidades y Amenazas**  

Para cada vulnerabilidad identificada, se debe analizar **qué amenazas podrían explotarla**.  

Ejemplo de análisis:  

- **Vulnerabilidad**: Configuración insegura en un servidor web.  
- **Amenaza**: Un atacante externo podría aprovechar esta vulnerabilidad para inyectar código malicioso.  
- **Riesgo**: Robo de información confidencial, interrupción del servicio, acceso no autorizado.  

Cada estudiante debe completar la siguiente tabla para cada vulnerabilidad encontrada:  

| Vulnerabilidad | Amenaza Potencial | Impacto |
|---------------|-------------------|---------|
| Uso de credenciales por defecto en un CMS | Un atacante puede acceder con credenciales conocidas | Robo de datos, alteración de contenido |
| Inyección SQL en una aplicación web | Un atacante puede ejecutar comandos en la base de datos | Exposición de información confidencial, alteración de registros |
| Falta de validación en entradas de usuario | Posibilidad de ataques XSS (Cross-Site Scripting) | Robo de credenciales, modificación de interfaces |


---

### **Práctica 4.4: Aplicación del estándar ASVS en seguridad de aplicaciones (Calificación propia)**  
**Objetivo:** Aplicar el estándar ASVS en una evaluación de seguridad.  

**Pasos:**  
1. Descargar la guía ASVS desde [OWASP ASVS](https://github.com/OWASP/ASVS).  
2. Por parejas en clase, repartiremos los diferentes puntos a analizar la guía.
3. Se deberá analizar cada uno de los puntos, explicando en qué consiste y su CWE.
4. Se expondrá en clase los puntos, sintetizando y explicando el punto que le ha sido asignado.

## Criterios de Evaluación Asociados

| **RA 2:	Determina el nivel de seguridad requerido por aplicaciones identificando los vectores de ataque habituales y sus riesgos asociados** |                                                                 |
|-------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------|
| **a)** Se han caracterizado los niveles de verificación de seguridad en aplicaciones establecidos por los estándares internacionales (ASVS, “Application Security Verification Standard”) |                                                                 |
| **b)** Se ha identificado el nivel de verificación de seguridad requerido por las aplicaciones en función de sus riesgos de acuerdo con los estándares reconocidos.
|                                                                 |
| **c)** Se han enumerado los requisitos de verificación necesarios asociados al nivel de seguridad establecido. |                                                                 |
| **d)** Se han reconocido los principales riesgos de las aplicaciones desarrolladas, en función de sus características.                            |                                                                 |
| **e)** Se han definido protocolos y políticas de autenticación basados en características biométricas, según las principales vulnerabilidades y tipos de ataques.                 |                                                                 |

---
Author: Carlos Caballero González (https://www.carloscaballero.io)
